<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TaskMaster XP - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†</title>
  <!-- Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø®Ø·ÙˆØ· Ù…Ù† Ø¬ÙˆØ¬Ù„ -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <!-- ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <style>
    /* ØªØ¹Ø±ÙŠÙ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
    :root {
      --main-color: #00ffcc;
      --secondary-color: #302b63;
      --dark-bg: #0f0c29;
      --light-bg: #ffffff;
      --text-dark: #fff;
      --text-light: #000;
      --success-color: #00ffaa;
      --warning-color: #ffaa00;
      --danger-color: #ff5555;
      --priority-high: #ff5555;
      --priority-medium: #ffaa00;
      --priority-low: #55ff00;
    }
    
    /* Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Tajawal', sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, var(--dark-bg), var(--secondary-color), #24243e);
      color: var(--text-dark);
      overflow-x: hidden;
      min-height: 100vh;
      transition: all 0.3s ease;
    }
    
    body.light-mode {
      background: linear-gradient(135deg, var(--light-bg), #e0e0e0);
      color: var(--text-light);
    }
    
    /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
    header {
      padding: 2rem;
      text-align: center;
      background: rgba(0, 0, 0, 0.4);
      box-shadow: 0 0 15px var(--main-color);
    }
    
    h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 3rem;
      color: var(--main-color);
      text-shadow: 0 0 10px var(--main-color);
    }
    
    p.subtitle {
      font-size: 1.2rem;
      margin-top: 0.5rem;
      color: #ccc;
      text-shadow: 0 0 5px #00ffaa;
    }
    
    /* Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª */
    .container {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 2rem;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0, 255, 170, 0.3);
    }
    
    /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
    .section {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 15px;
      box-shadow: inset 0 0 10px rgba(0, 255, 170, 0.3);
    }
    
    .section-title {
      color: var(--main-color);
      margin-bottom: 1rem;
      font-size: 1.5rem;
      border-bottom: 2px solid var(--main-color);
      padding-bottom: 0.5rem;
    }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
    .progress-container {
      margin: 1.5rem 0;
    }
    
    .progress-bar {
      height: 25px;
      background: #222;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: inset 0 0 10px #00ff99;
    }
    
    .progress-fill {
      height: 100%;
      width: 0;
      background: linear-gradient(to right, #00ffaa, #00ccff);
      transition: width 0.4s ease;
    }
    
    /* Ø§Ù„Ù…Ù‡Ø§Ù… */
    .tasks-container {
      margin-top: 2rem;
    }
    
    .tasks-list {
      list-style: none;
      padding: 0;
    }
    
    .task-item {
      background: rgba(255, 255, 255, 0.1);
      padding: 1.2rem;
      margin-bottom: 1rem;
      border-radius: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
      border-left: 5px solid var(--main-color);
      position: relative;
      animation: slideDown 0.5s ease;
    }
    
    .task-item.completed {
      border-left-color: var(--success-color);
      opacity: 0.7;
    }
    
    .task-item.overdue {
      border-left-color: var(--danger-color);
      animation: pulseWarning 1.5s infinite;
    }
    
    .task-item.due-soon {
      border-left-color: var(--warning-color);
    }
    /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
select {
  background-color: var(--dark-bg); /* Ù†ÙØ³ Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© */
  color: var(--text-dark); /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ */
  border: 1px solid var(--main-color); /* Ø¥Ø·Ø§Ø± Ù…ØªÙ†Ø§Ø³Ù‚ Ù…Ø¹ Ø§Ù„ØªØµÙ…ÙŠÙ… */
  padding: 0.8rem;
  border-radius: 8px;
  outline: none;
  transition: all 0.3s ease;
}

select:hover {
  background-color: var(--secondary-color); /* ØªØ£Ø«ÙŠØ± Ù…Ø®ØªÙ„Ù Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}

select:focus {
  box-shadow: 0 0 0 2px var(--main-color); /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ±ÙƒÙŠØ² */
}

/* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
option {
  background-color: var(--dark-bg); /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
  color: var(--text-dark); /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ */
}
    .task-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .task-title {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
    }
    
    .task-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      font-size: 0.9rem;
      color: #aaa;
    }
    
    .task-priority {
      padding: 0.2rem 0.5rem;
      border-radius: 5px;
      font-weight: bold;
    }
    
    .priority-high {
      background-color: rgba(255, 85, 85, 0.2);
      color: var(--priority-high);
    }
    
    .priority-medium {
      background-color: rgba(255, 170, 0, 0.2);
      color: var(--priority-medium);
    }
    
    .priority-low {
      background-color: rgba(85, 255, 0, 0.2);
      color: var(--priority-low);
    }
    
    .task-actions {
      display: flex;
      gap: 0.5rem;
    }
    
    .task-btn {
      background-color: transparent;
      border: 2px solid var(--main-color);
      color: var(--main-color);
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
    }
    
    .task-btn:hover {
      background-color: var(--main-color);
      color: #000;
    }
    
    .task-btn.complete {
      border-color: var(--success-color);
      color: var(--success-color);
    }
    
    .task-btn.complete:hover {
      background-color: var(--success-color);
      color: #000;
    }
    
    .task-btn.edit {
      border-color: var(--warning-color);
      color: var(--warning-color);
    }
    
    .task-btn.edit:hover {
      background-color: var(--warning-color);
      color: #000;
    }
    
    .task-btn.delete {
      border-color: var(--danger-color);
      color: var(--danger-color);
    }
    
    .task-btn.delete:hover {
      background-color: var(--danger-color);
      color: #fff;
    }
    
    /* Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© */
    .task-form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;
    }
    
    .form-label {
      margin-bottom: 0.5rem;
      color: var(--main-color);
      font-weight: bold;
    }
    
    .form-control {
      padding: 0.8rem;
      border-radius: 8px;
      border: none;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      font-size: 1rem;
      outline: none;
      transition: all 0.3s ease;
    }
    
    .form-control:focus {
      box-shadow: 0 0 0 2px var(--main-color);
    }
    
    .btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 8px;
      background-color: var(--main-color);
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 255, 170, 0.4);
    }
    
    .btn-secondary {
      background-color: rgba(255, 255, 255, 0.1);
      color: #fff;
    }
    
    /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
    .dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .widget {
      background: rgba(0, 0, 0, 0.2);
      padding: 1.5rem;
      border-radius: 15px;
      box-shadow: inset 0 0 10px rgba(0, 255, 170, 0.2);
    }
    
    .widget-title {
      color: var(--main-color);
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    
    /* Ø§Ù„ØªÙ†Ù‚Ù„ */
    .tabs {
      display: flex;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 1.5rem;
    }
    
    .tab {
      padding: 0.8rem 1.5rem;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
    }
    
    .tab.active {
      border-bottom-color: var(--main-color);
      color: var(--main-color);
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© */
    .chart-container {
      position: relative;
      height: 250px;
      width: 100%;
    }
    
    /* Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª */
    .badges-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1rem;
    }
    
    .badge {
      background: rgba(0, 255, 170, 0.1);
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .badge:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 255, 170, 0.3);
    }
    
    .badge-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--main-color);
    }
    
    .badge-title {
      font-weight: bold;
      margin-bottom: 0.3rem;
    }
    
    .badge-desc {
      font-size: 0.8rem;
      color: #aaa;
    }
    
    .badge.locked {
      opacity: 0.5;
      filter: grayscale(100%);
    }
    
    /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… */
    body.light-mode .task-item {
      background: rgba(0, 0, 0, 0.05);
    }
    
    body.light-mode .form-control {
      background: rgba(0, 0, 0, 0.05);
      color: #000;
    }
    
    body.light-mode .widget {
      background: rgba(0, 0, 0, 0.05);
    }
    
    /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulseWarning {
      0% { box-shadow: 0 0 0 0 rgba(255, 85, 85, 0.4); }
      70% { box-shadow: 0 0 0 10px rgba(255, 85, 85, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 85, 85, 0); }
    }
    
    /* Ø§Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
        margin: 1rem auto;
      }
      
      .task-form {
        grid-template-columns: 1fr;
      }
      
      .task-item {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .task-actions {
        margin-top: 1rem;
        width: 100%;
        justify-content: flex-end;
      }
    }
    
    /* Ø£Ø³Ù„ÙˆØ¨ RTL */
    [dir="rtl"] .task-item {
      border-left: none;
      border-right: 5px solid var(--main-color);
    }
    
    [dir="rtl"] .task-item.completed {
      border-left: none;
      border-right: 5px solid var(--success-color);
    }
    
    [dir="rtl"] .tabs {
      padding-right: 0;
    }
  </style>
</head>
<body>
  <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
  <header>
    <h1>TaskMaster XP</h1>
    <p class="subtitle">Ø­ÙˆÙ„ Ø¥Ù†ØªØ§Ø¬ÙŠØªÙƒ Ø¥Ù„Ù‰ Ù„Ø¹Ø¨Ø©</p>
  </header>

  <div class="container">
    <!-- Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <div class="tabs">
      <div class="tab active" onclick="switchTab('tasks')">Ø§Ù„Ù…Ù‡Ø§Ù…</div>
      <div class="tab" onclick="switchTab('dashboard')">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div>
      <div class="tab" onclick="switchTab('stats')">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</div>
      <div class="tab" onclick="switchTab('achievements')">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</div>
      <div class="tab" onclick="switchTab('team')">Ø§Ù„ÙØ±ÙŠÙ‚</div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù‡Ø§Ù… -->
    <div id="tasks-tab" class="tab-content active">
      <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
      <div class="section">
        <h3 class="section-title">ØªÙ‚Ø¯Ù…Ùƒ</h3>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" id="xpBar"></div>
          </div>
          <div class="level-display">
            Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="level">1</span> | Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="xp">0</span>/<span id="xpMax">100</span>
          </div>
        </div>
      </div>

      <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© -->
      <div class="section">
        <h3 class="section-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
        <div class="task-form">
          <div class="form-group">
            <label for="taskTitle" class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©</label>
            <input type="text" id="taskTitle" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©">
          </div>
          
          <div class="form-group">
            <label for="taskDescription" class="form-label">Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <textarea id="taskDescription" class="form-control" rows="1" placeholder="Ø£Ø¶Ù ÙˆØµÙÙ‹Ø§ Ù„Ù„Ù…Ù‡Ù…Ø©"></textarea>
          </div>
          
          <div class="form-group">
            <label for="taskDeadline" class="form-label">Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</label>
            <input type="datetime-local" id="taskDeadline" class="form-control">
          </div>
          
          <div class="form-group">
            <label for="taskPriority" class="form-label">Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©</label>
            <select id="taskPriority" class="form-control">
              <option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
              <option value="medium" selected>Ù…ØªÙˆØ³Ø·Ø©</option>
              <option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="taskCategory" class="form-label">Ø§Ù„ÙØ¦Ø©</label>
            <select id="taskCategory" class="form-control">
              <option value="work">Ø¹Ù…Ù„</option>
              <option value="personal">Ø´Ø®ØµÙŠ</option>
              <option value="study">Ø¯Ø±Ø§Ø³Ø©</option>
              <option value="health">ØµØ­Ø©</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="taskRepeat" class="form-label">Ø§Ù„ØªÙƒØ±Ø§Ø±</label>
            <select id="taskRepeat" class="form-control">
              <option value="none">Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>
              <option value="daily">ÙŠÙˆÙ…ÙŠ</option>
              <option value="weekly">Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>
              <option value="monthly">Ø´Ù‡Ø±ÙŠ</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="taskFile" class="form-label">Ù…Ø±ÙÙ‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <input type="file" id="taskFile" class="form-control">
          </div>
          
          <div class="form-group">
            <label for="taskReminder" class="form-label">ØªØ°ÙƒÙŠØ± Ù‚Ø¨Ù„</label>
            <select id="taskReminder" class="form-control">
              <option value="none">Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>
              <option value="15m">15 Ø¯Ù‚ÙŠÙ‚Ø©</option>
              <option value="1h">Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©</option>
              <option value="1d">ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯</option>
            </select>
          </div>
          
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</label>
            <div style="display: flex; gap: 0.5rem;">
              <button class="btn" onclick="addTask()">
                <i class="icon">+</i> Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©
              </button>
              <button class="btn btn-secondary" onclick="startVoiceInput()">
                <i class="icon">ğŸ¤</i> Ø¥Ø¯Ø®Ø§Ù„ ØµÙˆØªÙŠ
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- ÙÙ„ØªØ±Ø© ÙˆØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ù‡Ø§Ù… -->
      <div class="section">
        <h3 class="section-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</h3>
        <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;">
          <div class="form-group" style="flex: 1; min-width: 150px;">
            <label for="filterTasks" class="form-label">ØªØµÙÙŠØ© Ø§Ù„Ù…Ù‡Ø§Ù…</label>
            <select id="filterTasks" class="form-control" onchange="filterTasks(this.value)">
              <option value="all">Ø§Ù„ÙƒÙ„</option>
              <option value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option>
              <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</option>
              <option value="overdue">Ù…ØªØ£Ø®Ø±Ø©</option>
            </select>
          </div>
          
          <div class="form-group" style="flex: 1; min-width: 150px;">
            <label for="sortTasks" class="form-label">ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ù‡Ø§Ù…</label>
            <select id="sortTasks" class="form-control" onchange="sortTasks(this.value)">
              <option value="date-desc">Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹</option>
              <option value="date-asc">Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹</option>
              <option value="priority">Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©</option>
            </select>
          </div>
          
          <div class="form-group" style="flex: 1; min-width: 150px;">
            <label for="searchTasks" class="form-label">Ø¨Ø­Ø«</label>
            <input type="text" id="searchTasks" class="form-control" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…..." oninput="searchTasks(this.value)">
          </div>
        </div>
      </div>

      <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… -->
      <div class="section tasks-container">
        <h3 class="section-title">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</h3>
        <ul class="tasks-list" id="taskList">
          <!-- Ø§Ù„Ù…Ù‡Ø§Ù… Ø³ØªØ¶Ø§Ù Ù‡Ù†Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </ul>
      </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div id="dashboard-tab" class="tab-content">
      <div class="dashboard">
        <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© -->
        <div class="widget">
          <h4 class="widget-title">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©</h4>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div style="background: rgba(0, 255, 170, 0.1); padding: 1rem; border-radius: 10px;">
              <div style="font-size: 2rem; color: var(--main-color);">12</div>
              <div style="font-size: 0.8rem;">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
            </div>
            <div style="background: rgba(0, 255, 170, 0.1); padding: 1rem; border-radius: 10px;">
              <div style="font-size: 2rem; color: var(--main-color);">5</div>
              <div style="font-size: 0.8rem;">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù†Ø´Ø·Ø©</div>
            </div>
            <div style="background: rgba(0, 255, 170, 0.1); padding: 1rem; border-radius: 10px;">
              <div style="font-size: 2rem; color: var(--main-color);">3</div>
              <div style="font-size: 0.8rem;">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©</div>
            </div>
            <div style="background: rgba(0, 255, 170, 0.1); padding: 1rem; border-radius: 10px;">
              <div style="font-size: 2rem; color: var(--main-color);">85%</div>
              <div style="font-size: 0.8rem;">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</div>
            </div>
          </div>
        </div>
        
        <!-- ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ -->
        <div class="widget">
          <h4 class="widget-title">ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h4>
          <div class="chart-container">
            <canvas id="weeklyChart"></canvas>
          </div>
        </div>
        
        <!-- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… -->
        <div class="widget">
          <h4 class="widget-title">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</h4>
          <div class="chart-container">
            <canvas id="tasksChart"></canvas>
          </div>
        </div>
        
        <!-- Ù†Ø´Ø§Ø· Ø§Ù„ÙØ±ÙŠÙ‚ -->
        <div class="widget">
          <h4 class="widget-title">Ù†Ø´Ø§Ø· Ø§Ù„ÙØ±ÙŠÙ‚</h4>
          <div style="margin-top: 1rem;">
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
              <div style="width: 30px; height: 30px; background: #00ffaa; border-radius: 50%; margin-left: 0.5rem;"></div>
              <div style="flex: 1;">
                <div>Ø£Ø­Ù…Ø¯</div>
                <div style="height: 5px; background: rgba(255,255,255,0.1); margin-top: 0.2rem;">
                  <div style="width: 75%; height: 100%; background: var(--main-color);"></div>
                </div>
              </div>
            </div>
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
              <div style="width: 30px; height: 30px; background: #00aaff; border-radius: 50%; margin-left: 0.5rem;"></div>
              <div style="flex: 1;">
                <div>Ù…Ø­Ù…Ø¯</div>
                <div style="height: 5px; background: rgba(255,255,255,0.1); margin-top: 0.2rem;">
                  <div style="width: 60%; height: 100%; background: var(--main-color);"></div>
                </div>
              </div>
            </div>
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
              <div style="width: 30px; height: 30px; background: #aa00ff; border-radius: 50%; margin-left: 0.5rem;"></div>
              <div style="flex: 1;">
                <div>Ø³Ø§Ø±Ø©</div>
                <div style="height: 5px; background: rgba(255,255,255,0.1); margin-top: 0.2rem;">
                  <div style="width: 90%; height: 100%; background: var(--main-color);"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© -->
        <div class="widget">
          <h4 class="widget-title">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h4>
          <div style="margin-top: 1rem;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <div>Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„ÙØ±ÙŠÙ‚</div>
              <div style="color: #aaa; font-size: 0.8rem;">ØºØ¯Ù‹Ø§ 10 Øµ</div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <div>ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</div>
              <div style="color: #aaa; font-size: 0.8rem;">Ø¨Ø¹Ø¯ ØºØ¯ 3 Ù…</div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <div>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</div>
              <div style="color: #aaa; font-size: 0.8rem;">Ø§Ù„Ø¬Ù…Ø¹Ø© 11 Øµ</div>
            </div>
          </div>
        </div>
        
        <!-- Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© -->
        <div class="widget">
          <h4 class="widget-title">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h4>
          <div style="margin-top: 1rem;">
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem; padding: 0.5rem; background: rgba(0,255,170,0.1); border-radius: 8px;">
              <div style="width: 30px; height: 30px; background: gold; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-left: 0.5rem;">ğŸ†</div>
              <div>
                <div style="font-weight: bold;">Ø¨Ø·Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ø£ÙƒÙ…Ù„Øª 10 Ù…Ù‡Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem; padding: 0.5rem; background: rgba(0,255,170,0.1); border-radius: 8px;">
              <div style="width: 30px; height: 30px; background: silver; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-left: 0.5rem;">â­</div>
              <div>
                <div style="font-weight: bold;">Ù…Ø«Ø§Ø¨Ø±</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ø¹Ù…Ù„Øª 5 Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
    <div id="stats-tab" class="tab-content">
      <div class="dashboard">
        <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ø§Ù… -->
        <div class="widget">
          <h4 class="widget-title">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ø§Ù…</h4>
          <div class="chart-container">
            <canvas id="statsChart"></canvas>
          </div>
        </div>
        
        <!-- Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ -->
        <div class="widget">
          <h4 class="widget-title">Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h4>
          <div class="chart-container">
            <canvas id="performanceChart"></canvas>
          </div>
        </div>
        
        <!-- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª -->
        <div class="widget">
          <h4 class="widget-title">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª</h4>
          <div class="chart-container">
            <canvas id="priorityChart"></canvas>
          </div>
        </div>
        
        <!-- Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø· -->
        <div class="widget">
          <h4 class="widget-title">Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·</h4>
          <div style="max-height: 300px; overflow-y: auto; margin-top: 1rem;">
            <div style="display: flex; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <div style="width: 30px; height: 30px; background: rgba(0,255,170,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-left: 0.5rem;">âœ“</div>
              <div>
                <div>Ø£ÙƒÙ…Ù„Øª Ù…Ù‡Ù…Ø© "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØµÙ…ÙŠÙ…"</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ø§Ù„ÙŠÙˆÙ… 10:45 Øµ</div>
              </div>
            </div>
            <div style="display: flex; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <div style="width: 30px; height: 30px; background: rgba(255,85,85,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-left: 0.5rem;">âœ—</div>
              <div>
                <div>Ø­Ø°ÙØª Ù…Ù‡Ù…Ø© "Ø§Ø¬ØªÙ…Ø§Ø¹ ØºÙŠØ± Ù…Ù‡Ù…"</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ø§Ù„ÙŠÙˆÙ… 9:30 Øµ</div>
              </div>
            </div>
            <div style="display: flex; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <div style="width: 30px; height: 30px; background: rgba(0,170,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-left: 0.5rem;">+</div>
              <div>
                <div>Ø£Ø¶ÙØª Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© "ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ø¨Ø§Ù„Ø£Ù…Ø³ 4:15 Ù…</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª -->
    <div id="achievements-tab" class="tab-content">
      <div class="section">
        <h3 class="section-title">Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ</h3>
        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
          <div style="flex: 1; background: rgba(0,255,170,0.1); padding: 1rem; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem;">3</div>
            <div style="font-size: 0.9rem;">Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</div>
          </div>
          <div style="flex: 1; background: rgba(0,255,170,0.1); padding: 1rem; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem;">7</div>
            <div style="font-size: 0.9rem;">Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù…ØªØ¨Ù‚ÙŠØ©</div>
          </div>
          <div style="flex: 1; background: rgba(0,255,170,0.1); padding: 1rem; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem;">85%</div>
            <div style="font-size: 0.9rem;">ØªÙ‚Ø¯Ù… Ø¹Ø§Ù…</div>
          </div>
        </div>
        
        <h4 style="margin: 1.5rem 0 1rem 0; color: var(--main-color);">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h4>
        <div class="badges-container">
          <div class="badge">
            <div class="badge-icon">ğŸ†</div>
            <div class="badge-title">Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</div>
            <div class="badge-desc">Ø£Ø¶Ù Ø£ÙˆÙ„ Ù…Ù‡Ù…Ø©</div>
          </div>
          <div class="badge">
            <div class="badge-icon">â­</div>
            <div class="badge-title">Ø§Ù„Ù…Ø«Ø§Ø¨Ø±</div>
            <div class="badge-desc">Ø£ÙƒÙ…Ù„ 5 Ù…Ù‡Ø§Ù…</div>
          </div>
          <div class="badge">
            <div class="badge-icon">ğŸš€</div>
            <div class="badge-title">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</div>
            <div class="badge-desc">ØµÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 5</div>
          </div>
        </div>
        
        <h4 style="margin: 1.5rem 0 1rem 0; color: var(--main-color);">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h4>
        <div class="badges-container">
          <div class="badge locked">
            <div class="badge-icon">ğŸ”’</div>
            <div class="badge-title">Ø¨Ø·Ù„ Ø§Ù„Ø³Ø±Ø¹Ø©</div>
            <div class="badge-desc">Ø£ÙƒÙ…Ù„ 3 Ù…Ù‡Ø§Ù… ÙÙŠ ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯</div>
          </div>
          <div class="badge locked">
            <div class="badge-icon">ğŸ”’</div>
            <div class="badge-title">Ø§Ù„Ù…Ù†Ø¸Ù…</div>
            <div class="badge-desc">Ø£Ù†Ø´Ø¦ 5 ÙØ¦Ø§Øª Ù„Ù„Ù…Ù‡Ø§Ù…</div>
          </div>
          <div class="badge locked">
            <div class="badge-icon">ğŸ”’</div>
            <div class="badge-title">Ø§Ù„ÙØ±ÙŠÙ‚</div>
            <div class="badge-desc">Ø´Ø§Ø±Ùƒ 3 Ù…Ù‡Ø§Ù… Ù…Ø¹ ÙØ±ÙŠÙ‚</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ -->
    <div id="team-tab" class="tab-content">
      <div class="section">
        <h3 class="section-title">ÙØ±ÙŠÙ‚Ùƒ</h3>
        <div style="margin-bottom: 1.5rem;">
          <button class="btn" onclick="showInviteModal()">
            <i class="icon">ğŸ‘¥</i> Ø¯Ø¹ÙˆØ© Ø£Ø¹Ø¶Ø§Ø¡ Ø¬Ø¯Ø¯
          </button>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem;">
          <!-- Ø¹Ø¶Ùˆ Ø§Ù„ÙØ±ÙŠÙ‚ -->
          <div style="background: rgba(0,0,0,0.2); padding: 1.5rem; border-radius: 15px;">
            <div style="display: flex; align-items: center; margin-bottom: 1rem;">
              <div style="width: 50px; height: 50px; background: #00ffaa; border-radius: 50%; margin-left: 1rem;"></div>
              <div>
                <div style="font-weight: bold;">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</div>
              </div>
            </div>
            <div style="margin-bottom: 0.5rem;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:</span>
                <span style="font-weight: bold;">24</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù†Ø´Ø·Ø©:</span>
                <span style="font-weight: bold;">5</span>
              </div>
              <div style="display: flex; justify-content: space-between;">
                <span>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²:</span>
                <span style="font-weight: bold;">92%</span>
              </div>
            </div>
            <button class="btn btn-secondary" style="width: 100%; margin-top: 0.5rem;">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
          
          <!-- Ø¹Ø¶Ùˆ Ø§Ù„ÙØ±ÙŠÙ‚ -->
          <div style="background: rgba(0,0,0,0.2); padding: 1.5rem; border-radius: 15px;">
            <div style="display: flex; align-items: center; margin-bottom: 1rem;">
              <div style="width: 50px; height: 50px; background: #00aaff; border-radius: 50%; margin-left: 1rem;"></div>
              <div>
                <div style="font-weight: bold;">Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ù…ØµÙ…Ù…Ø© UI/UX</div>
              </div>
            </div>
            <div style="margin-bottom: 0.5rem;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:</span>
                <span style="font-weight: bold;">18</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù†Ø´Ø·Ø©:</span>
                <span style="font-weight: bold;">3</span>
              </div>
              <div style="display: flex; justify-content: space-between;">
                <span>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²:</span>
                <span style="font-weight: bold;">88%</span>
              </div>
            </div>
            <button class="btn btn-secondary" style="width: 100%; margin-top: 0.5rem;">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
          
          <!-- Ø¹Ø¶Ùˆ Ø§Ù„ÙØ±ÙŠÙ‚ -->
          <div style="background: rgba(0,0,0,0.2); padding: 1.5rem; border-radius: 15px;">
            <div style="display: flex; align-items: center; margin-bottom: 1rem;">
              <div style="width: 50px; height: 50px; background: #aa00ff; border-radius: 50%; margin-left: 1rem;"></div>
              <div>
                <div style="font-weight: bold;">Ù…Ø­Ù…Ø¯ Ø®Ø§Ù„Ø¯</div>
                <div style="font-size: 0.8rem; color: #aaa;">Ù…Ø·ÙˆØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©</div>
              </div>
            </div>
            <div style="margin-bottom: 0.5rem;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:</span>
                <span style="font-weight: bold;">15</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù†Ø´Ø·Ø©:</span>
                <span style="font-weight: bold;">4</span>
              </div>
              <div style="display: flex; justify-content: space-between;">
                <span>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²:</span>
                <span style="font-weight: bold;">85%</span>
              </div>
            </div>
            <button class="btn btn-secondary" style="width: 100%; margin-top: 0.5rem;">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
        </div>
        
        <!-- Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© -->
        <h3 class="section-title" style="margin-top: 2rem;">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</h3>
        <ul class="tasks-list" id="sharedTasksList">
          <!-- Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ø³ØªØ¶Ø§Ù Ù‡Ù†Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </ul>
      </div>
    </div>

    <!-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
    <div class="section">
      <h3 class="section-title">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
        <!-- Ø§Ù„Ù…Ø¸Ù‡Ø± -->
        <div>
          <h4 style="margin-bottom: 1rem; color: var(--main-color);">Ø§Ù„Ù…Ø¸Ù‡Ø±</h4>
          <div style="margin-bottom: 0.5rem;">
            <input type="checkbox" id="darkMode" onchange="toggleTheme()">
            <label for="darkMode">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</label>
          </div>
          <div style="margin-bottom: 0.5rem;">
            <label for="themeColor" style="display: block; margin-bottom: 0.5rem;">Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø©:</label>
            <select id="themeColor" class="form-control" onchange="changeThemeColor(this.value)">
              <option value="#00ffcc">Ø£Ø²Ø±Ù‚ Ù…Ø®Ø¶Ø±</option>
              <option value="#ff0055">Ø£Ø­Ù…Ø±</option>
              <option value="#55ff00">Ø£Ø®Ø¶Ø±</option>
              <option value="#ffaa00">Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ</option>
              <option value="#aa00ff">Ø¨Ù†ÙØ³Ø¬ÙŠ</option>
            </select>
          </div>
        </div>
        
        <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
        <div>
          <h4 style="margin-bottom: 1rem; color: var(--main-color);">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h4>
          <div style="margin-bottom: 0.5rem;">
            <input type="checkbox" id="enableNotifications" checked>
            <label for="enableNotifications">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</label>
          </div>
          <div style="margin-bottom: 0.5rem;">
            <input type="checkbox" id="enableSounds" checked>
            <label for="enableSounds">Ø£ØµÙˆØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</label>
          </div>
          <div style="margin-bottom: 0.5rem;">
            <input type="checkbox" id="enableEmailReminders">
            <label for="enableEmailReminders">ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
          </div>
        </div>
        
        <!-- Ø§Ù„Ø­Ø³Ø§Ø¨ -->
        <div>
          <h4 style="margin-bottom: 1rem; color: var(--main-color);">Ø§Ù„Ø­Ø³Ø§Ø¨</h4>
          <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
          <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">Ø±Ø¨Ø· Ø¨Ø­Ø³Ø§Ø¨ Google</button>
          <button class="btn btn-secondary" style="width: 100%;" onclick="exportData()">ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„ÙÙˆØªØ± -->
  <footer style="text-align: center; padding: 1.5rem; color: #aaa; font-size: 0.9rem;">
    <p>TaskMaster XP &copy; 2023 - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    <p style="margin-top: 0.5rem;">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.1.0</p>
  </footer>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø¹ÙˆØ© -->
  <div id="inviteModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center;">
    <div style="background: #1a1a2e; padding: 2rem; border-radius: 15px; max-width: 500px; width: 90%;">
      <h3 style="margin-bottom: 1.5rem; color: var(--main-color);">Ø¯Ø¹ÙˆØ© Ø£Ø¹Ø¶Ø§Ø¡ Ø¬Ø¯Ø¯</h3>
      <div class="form-group" style="margin-bottom: 1rem;">
        <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input type="email" id="inviteEmail" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
      </div>
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label class="form-label">Ø§Ù„Ø¯ÙˆØ±</label>
        <select id="inviteRole" class="form-control">
          <option value="member">Ø¹Ø¶Ùˆ</option>
          <option value="admin">Ù…Ø¯ÙŠØ±</option>
        </select>
      </div>
      <div style="display: flex; gap: 0.5rem;">
        <button class="btn" onclick="sendInvite()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯Ø¹ÙˆØ©</button>
        <button class="btn btn-secondary" onclick="hideInviteModal()">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ -->
  <script>
    // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    const state = {
      tasks: [],
      user: {
        level: 1,
        xp: 0,
        xpToNextLevel: 100,
        achievements: []
      },
      team: [],
      settings: {
        darkMode: false,
        themeColor: '#00ffcc',
        notifications: true,
        sounds: true
      }
    };

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    document.addEventListener('DOMContentLoaded', function() {
      loadState();
      renderTasks();
      initCharts();
      updateXPBar();
      
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… Ù…Ù† localStorage
      const savedTasks = localStorage.getItem('tasks');
      if (savedTasks) {
        state.tasks = JSON.parse(savedTasks);
        renderTasks();
      }
      
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
      const savedSettings = localStorage.getItem('settings');
      if (savedSettings) {
        state.settings = JSON.parse(savedSettings);
        applySettings();
      }
      
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
      setInterval(checkDeadlines, 60000);
    });

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    function addTask() {
      const title = document.getElementById('taskTitle').value.trim();
      const description = document.getElementById('taskDescription').value.trim();
      const deadline = document.getElementById('taskDeadline').value;
      const priority = document.getElementById('taskPriority').value;
      const category = document.getElementById('taskCategory').value;
      const repeat = document.getElementById('taskRepeat').value;
      const reminder = document.getElementById('taskReminder').value;
      const file = document.getElementById('taskFile').files[0];
      
      if (!title) {
        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ù„Ù„Ù…Ù‡Ù…Ø©');
        return;
      }
      
      const newTask = {
        id: Date.now(),
        title,
        description,
        deadline,
        priority,
        category,
        repeat,
        reminder,
        completed: false,
        createdAt: new Date().toISOString(),
        file: file ? file.name : null
      };
      
      state.tasks.push(newTask);
      saveTasks();
      renderTasks();
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
      document.getElementById('taskTitle').value = '';
      document.getElementById('taskDescription').value = '';
      document.getElementById('taskFile').value = '';
      
      // Ù…ÙƒØ§ÙØ£Ø© XP
      gainXP(10);
    }

    function completeTask(taskId) {
      const task = state.tasks.find(t => t.id === taskId);
      if (task) {
        task.completed = true;
        task.completedAt = new Date().toISOString();
        saveTasks();
        renderTasks();
        
        // Ù…ÙƒØ§ÙØ£Ø© XP
        gainXP(20);
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
        checkAchievements();
      }
    }

    function deleteTask(taskId) {
      state.tasks = state.tasks.filter(t => t.id !== taskId);
      saveTasks();
      renderTasks();
    }

    function editTask(taskId) {
      const task = state.tasks.find(t => t.id === taskId);
      if (!task) return;
      
      document.getElementById('taskTitle').value = task.title;
      document.getElementById('taskDescription').value = task.description || '';
      document.getElementById('taskDeadline').value = task.deadline || '';
      document.getElementById('taskPriority').value = task.priority;
      document.getElementById('taskCategory').value = task.category;
      document.getElementById('taskRepeat').value = task.repeat;
      document.getElementById('taskReminder').value = task.reminder;
      
      // Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
      deleteTask(taskId);
      
      // ØªÙ…Ø±ÙŠØ± Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¥Ù„Ù‰ Ø­Ù‚Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
      document.getElementById('taskTitle').focus();
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
    function gainXP(amount) {
      state.user.xp += amount;
      
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ±Ù‚ÙŠØ©
      if (state.user.xp >= state.user.xpToNextLevel) {
        state.user.xp -= state.user.xpToNextLevel;
        state.user.level++;
        state.user.xpToNextLevel = Math.floor(state.user.xpToNextLevel * 1.2);
        
        alert(`ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${state.user.level}!`);
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
        checkAchievements();
      }
      
      updateXPBar();
      saveState();
    }

    function updateXPBar() {
      const percent = (state.user.xp / state.user.xpToNextLevel) * 100;
      document.getElementById('xpBar').style.width = `${percent}%`;
      document.getElementById('level').textContent = state.user.level;
      document.getElementById('xp').textContent = state.user.xp;
      document.getElementById('xpMax').textContent = state.user.xpToNextLevel;
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
    function checkAchievements() {
      const achievements = [
        { id: 'first_task', condition: state.tasks.length >= 1, title: 'Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©', description: 'Ø£Ø¶Ù Ø£ÙˆÙ„ Ù…Ù‡Ù…Ø©' },
        { id: 'five_tasks', condition: state.tasks.filter(t => t.completed).length >= 5, title: 'Ø§Ù„Ù…Ø«Ø§Ø¨Ø±', description: 'Ø£ÙƒÙ…Ù„ 5 Ù…Ù‡Ø§Ù…' },
        { id: 'level_five', condition: state.user.level >= 5, title: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„', description: 'ØµÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 5' },
        { id: 'ten_tasks_day', condition: checkTasksCompletedToday() >= 3, title: 'Ø¨Ø·Ù„ Ø§Ù„Ø³Ø±Ø¹Ø©', description: 'Ø£ÙƒÙ…Ù„ 3 Ù…Ù‡Ø§Ù… ÙÙŠ ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯' }
      ];
      
      achievements.forEach(ach => {
        if (ach.condition && !state.user.achievements.includes(ach.id)) {
          state.user.achievements.push(ach.id);
          showAchievementUnlocked(ach.title, ach.description);
        }
      });
      
      saveState();
    }

    function checkTasksCompletedToday() {
      const today = new Date().toISOString().split('T')[0];
      return state.tasks.filter(t => t.completedAt && t.completedAt.includes(today)).length;
    }

    function showAchievementUnlocked(title, description) {
      const achievementDiv = document.createElement('div');
      achievementDiv.style.position = 'fixed';
      achievementDiv.style.bottom = '20px';
      achievementDiv.style.left = '20px';
      achievementDiv.style.background = 'rgba(0,0,0,0.8)';
      achievementDiv.style.color = 'gold';
      achievementDiv.style.padding = '15px';
      achievementDiv.style.borderRadius = '10px';
      achievementDiv.style.borderLeft = '5px solid gold';
      achievementDiv.style.zIndex = '1000';
      achievementDiv.style.maxWidth = '300px';
      achievementDiv.style.animation = 'slideIn 0.5s ease';
      
      achievementDiv.innerHTML = `
        <div style="font-weight: bold; font-size: 1.2rem; margin-bottom: 5px;">ğŸ† ${title}</div>
        <div style="font-size: 0.9rem;">${description}</div>
      `;
      
      document.body.appendChild(achievementDiv);
      
      setTimeout(() => {
        achievementDiv.style.animation = 'slideOut 0.5s ease';
        setTimeout(() => {
          document.body.removeChild(achievementDiv);
        }, 500);
      }, 3000);
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¹Ø±Ø¶
    function renderTasks() {
      const taskList = document.getElementById('taskList');
      taskList.innerHTML = '';
      
      state.tasks.forEach(task => {
        const taskElement = document.createElement('li');
        taskElement.className = 'task-item';
        taskElement.dataset.id = task.id;
        
        if (task.completed) {
          taskElement.classList.add('completed');
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
        if (task.deadline) {
          const deadlineDate = new Date(task.deadline);
          const now = new Date();
          
          if (deadlineDate < now) {
            taskElement.classList.add('overdue');
          } else if ((deadlineDate - now) < 24 * 60 * 60 * 1000) {
            taskElement.classList.add('due-soon');
          }
        }
        
        // Ø¨Ù†Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù‡Ù…Ø©
        let taskContent = `
          <div class="task-content">
            <div class="task-title">${task.title}</div>
            <div class="task-meta">
        `;
        
        if (task.description) {
          taskContent += `<span>${task.description}</span>`;
        }
        
        if (task.deadline) {
          const deadlineDate = new Date(task.deadline);
          taskContent += `<span>Ø§Ù„Ù…ÙˆØ¹Ø¯: ${deadlineDate.toLocaleString()}</span>`;
        }
        
        taskContent += `<span class="task-priority priority-${task.priority}">${getPriorityText(task.priority)}</span>`;
        taskContent += `<span>Ø§Ù„ÙØ¦Ø©: ${getCategoryText(task.category)}</span>`;
        
        if (task.file) {
          taskContent += `<span>Ù…Ø±ÙÙ‚: ${task.file}</span>`;
        }
        
        taskContent += `
            </div>
          </div>
          <div class="task-actions">
            <button class="task-btn complete" onclick="completeTask(${task.id})">Ø¥ÙƒÙ…Ø§Ù„</button>
            <button class="task-btn edit" onclick="editTask(${task.id})">ØªØ¹Ø¯ÙŠÙ„</button>
            <button class="task-btn delete" onclick="deleteTask(${task.id})">Ø­Ø°Ù</button>
          </div>
        `;
        
        taskElement.innerHTML = taskContent;
        taskList.appendChild(taskElement);
      });
    }

    function getPriorityText(priority) {
      const priorities = {
        high: 'Ø¹Ø§Ù„ÙŠØ©',
        medium: 'Ù…ØªÙˆØ³Ø·Ø©',
        low: 'Ù…Ù†Ø®ÙØ¶Ø©'
      };
      return priorities[priority] || priority;
    }

    function getCategoryText(category) {
      const categories = {
        work: 'Ø¹Ù…Ù„',
        personal: 'Ø´Ø®ØµÙŠ',
        study: 'Ø¯Ø±Ø§Ø³Ø©',
        health: 'ØµØ­Ø©'
      };
      return categories[category] || category;
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ¨ÙˆÙŠØ¨
    function switchTab(tabId) {
      // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Ø¥Ù„ØºØ§Ø¡ ØªÙ†Ø´ÙŠØ· Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø³Ù†Ø© Ø§Ù„ØªØ¨ÙˆÙŠØ¨
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø­Ø¯Ø¯
      document.getElementById(`${tabId}-tab`).classList.add('active');
      
      // ØªÙ†Ø´ÙŠØ· Ù„Ø³Ø§Ù† Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø­Ø¯Ø¯
      const tabs = document.querySelectorAll('.tab');
      for (let i = 0; i < tabs.length; i++) {
        if (tabs[i].textContent.toLowerCase().includes(tabId)) {
          tabs[i].classList.add('active');
          break;
        }
      }
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
      if (tabId === 'dashboard') {
        updateCharts();
      }
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ÙØ±ÙŠÙ‚
    function showInviteModal() {
      document.getElementById('inviteModal').style.display = 'flex';
    }

    function hideInviteModal() {
      document.getElementById('inviteModal').style.display = 'none';
    }

    function sendInvite() {
      const email = document.getElementById('inviteEmail').value;
      const role = document.getElementById('inviteRole').value;
      
      if (!email) {
        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­');
        return;
      }
      
      // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯Ø¹ÙˆØ© ÙØ¹Ù„ÙŠÙ‹Ø§
      alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ© Ø¥Ù„Ù‰ ${email} ÙƒÙ€ ${role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : 'Ø¹Ø¶Ùˆ'}`);
      hideInviteModal();
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    function toggleTheme() {
      state.settings.darkMode = !state.settings.darkMode;
      applySettings();
      saveState();
    }

    function changeThemeColor(color) {
      state.settings.themeColor = color;
      document.documentElement.style.setProperty('--main-color', color);
      saveState();
    }

    function applySettings() {
      if (state.settings.darkMode) {
        document.body.classList.add('light-mode');
      } else {
        document.body.classList.remove('light-mode');
      }
      
      document.documentElement.style.setProperty('--main-color', state.settings.themeColor);
      document.getElementById('darkMode').checked = state.settings.darkMode;
      document.getElementById('themeColor').value = state.settings.themeColor;
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„
    function saveState() {
      localStorage.setItem('tasks', JSON.stringify(state.tasks));
      localStorage.setItem('user', JSON.stringify(state.user));
      localStorage.setItem('settings', JSON.stringify(state.settings));
    }

    function loadState() {
      const savedTasks = localStorage.getItem('tasks');
      const savedUser = localStorage.getItem('user');
      const savedSettings = localStorage.getItem('settings');
      
      if (savedTasks) state.tasks = JSON.parse(savedTasks);
      if (savedUser) state.user = JSON.parse(savedUser);
      if (savedSettings) state.settings = JSON.parse(savedSettings);
      
      applySettings();
    }

    function saveTasks() {
      localStorage.setItem('tasks', JSON.stringify(state.tasks));
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
    function initCharts() {
      // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
      const weeklyCtx = document.getElementById('weeklyChart').getContext('2d');
      new Chart(weeklyCtx, {
        type: 'line',
        data: {
          labels: ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'],
          datasets: [{
            label: 'Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©',
            data: [3, 5, 2, 6, 4, 7, 1],
            borderColor: 'rgba(0, 255, 170, 1)',
            backgroundColor: 'rgba(0, 255, 170, 0.1)',
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
              rtl: true
            }
          },
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
      
      // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…
      const tasksCtx = document.getElementById('tasksChart').getContext('2d');
      new Chart(tasksCtx, {
        type: 'doughnut',
        data: {
          labels: ['Ù…ÙƒØªÙ…Ù„Ø©', 'Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²', 'Ù…ØªØ£Ø®Ø±Ø©'],
          datasets: [{
            data: [12, 5, 3],
            backgroundColor: [
              'rgba(0, 255, 170, 0.7)',
              'rgba(0, 170, 255, 0.7)',
              'rgba(255, 85, 85, 0.7)'
            ],
            borderColor: [
              'rgba(0, 255, 170, 1)',
              'rgba(0, 170, 255, 1)',
              'rgba(255, 85, 85, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom',
              rtl: true
            }
          }
        }
      });
      
      // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
      const statsCtx = document.getElementById('statsChart').getContext('2d');
      new Chart(statsCtx, {
        type: 'bar',
        data: {
          labels: ['Ø¹Ù…Ù„', 'Ø´Ø®ØµÙŠ', 'Ø¯Ø±Ø§Ø³Ø©', 'ØµØ­Ø©'],
          datasets: [{
            label: 'Ø§Ù„Ù…Ù‡Ø§Ù… Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©',
            data: [8, 5, 6, 2],
            backgroundColor: [
              'rgba(0, 255, 170, 0.7)',
              'rgba(0, 170, 255, 0.7)',
              'rgba(170, 0, 255, 0.7)',
              'rgba(255, 170, 0, 0.7)'
            ],
            borderColor: [
              'rgba(0, 255, 170, 1)',
              'rgba(0, 170, 255, 1)',
              'rgba(170, 0, 255, 1)',
              'rgba(255, 170, 0, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
      
      // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ø£Ø¯Ø§Ø¡
      const performanceCtx = document.getElementById('performanceChart').getContext('2d');
      new Chart(performanceCtx, {
        type: 'radar',
        data: {
          labels: ['Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©', 'Ø§Ù„Ø³Ø±Ø¹Ø©', 'Ø§Ù„Ø¯Ù‚Ø©', 'Ø§Ù„ØªØ¹Ø§ÙˆÙ†', 'Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹'],
          datasets: [{
            label: 'Ø£Ø¯Ø§Ø¦Ùƒ',
            data: [85, 70, 90, 60, 75],
            backgroundColor: 'rgba(0, 255, 170, 0.2)',
            borderColor: 'rgba(0, 255, 170, 1)',
            pointBackgroundColor: 'rgba(0, 255, 170, 1)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgba(0, 255, 170, 1)'
          }]
        },
        options: {
          responsive: true,
          scales: {
            r: {
              angleLines: {
                display: true
              },
              suggestedMin: 0,
              suggestedMax: 100
            }
          }
        }
      });
      
      // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª
      const priorityCtx = document.getElementById('priorityChart').getContext('2d');
      new Chart(priorityCtx, {
        type: 'pie',
        data: {
          labels: ['Ø¹Ø§Ù„ÙŠ', 'Ù…ØªÙˆØ³Ø·', 'Ù…Ù†Ø®ÙØ¶'],
          datasets: [{
            data: [4, 8, 3],
            backgroundColor: [
              'rgba(255, 85, 85, 0.7)',
              'rgba(255, 170, 0, 0.7)',
              'rgba(85, 255, 0, 0.7)'
            ],
            borderColor: [
              'rgba(255, 85, 85, 1)',
              'rgba(255, 170, 0, 1)',
              'rgba(85, 255, 0, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom',
              rtl: true
            }
          }
        }
      });
    }

    function updateCharts() {
      // ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø£Ø®Ø±Ù‰
    function checkDeadlines() {
      const now = new Date();
      state.tasks.forEach(task => {
        if (task.deadline && !task.completed) {
          const deadline = new Date(task.deadline);
          if (deadline < now) {
            // Ø§Ù„Ù…Ù‡Ù…Ø© Ù…ØªØ£Ø®Ø±Ø©
            if (state.settings.notifications) {
              showNotification(`Ø§Ù„Ù…Ù‡Ù…Ø© "${task.title}" Ù…ØªØ£Ø®Ø±Ø©!`);
            }
          } else if ((deadline - now) < 24 * 60 * 60 * 1000) {
            // Ø§Ù„Ù…Ù‡Ù…Ø© Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
            if (state.settings.notifications) {
              showNotification(`Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ù…Ù‡Ù…Ø© "${task.title}" ÙŠÙ‚ØªØ±Ø¨!`);
            }
          }
        }
      });
      
      renderTasks();
    }

    function showNotification(message) {
      if (!('Notification' in window)) return;
      
      if (Notification.permission === 'granted') {
        new Notification(message);
      } else if (Notification.permission !== 'denied') {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            new Notification(message);
          }
        });
      }
    }

    function startVoiceInput() {
      if (!('webkitSpeechRecognition' in window)) {
        alert('Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª');
        return;
      }
      
      const recognition = new webkitSpeechRecognition();
      recognition.lang = 'ar-SA';
      recognition.start();
      
      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById('taskTitle').value = transcript;
      };
      
      recognition.onerror = function(event) {
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª: ' + event.error);
      };
    }

    function exportData() {
      const data = {
        tasks: state.tasks,
        user: state.user,
        exportedAt: new Date().toISOString()
      };
      
      const dataStr = JSON.stringify(data, null, 2);
      const dataBlob = new Blob([dataStr], { type: 'application/json' });
      const dataUrl = URL.createObjectURL(dataBlob);
      
      const downloadLink = document.createElement('a');
      downloadLink.href = dataUrl;
      downloadLink.download = `taskmaster-data-${new Date().toISOString().split('T')[0]}.json`;
      downloadLink.click();
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ©
    function searchTasks(query) {
      const tasks = document.querySelectorAll('.task-item');
      query = query.toLowerCase();
      
      tasks.forEach(task => {
        const title = task.querySelector('.task-title').textContent.toLowerCase();
        const description = task.querySelector('.task-meta')?.textContent.toLowerCase() || '';
        
        if (title.includes(query) || description.includes(query)) {
          task.style.display = 'flex';
        } else {
          task.style.display = 'none';
        }
      });
    }

    function filterTasks(filter) {
      const tasks = document.querySelectorAll('.task-item');
      
      tasks.forEach(task => {
        const isCompleted = task.classList.contains('completed');
        const isOverdue = task.classList.contains('overdue');
        
        switch (filter) {
          case 'all':
            task.style.display = 'flex';
            break;
          case 'completed':
            task.style.display = isCompleted ? 'flex' : 'none';
            break;
          case 'pending':
            task.style.display = !isCompleted ? 'flex' : 'none';
            break;
          case 'overdue':
            task.style.display = isOverdue ? 'flex' : 'none';
            break;
          default:
            task.style.display = 'flex';
        }
      });
    }

    function sortTasks(sortBy) {
      let sortedTasks = [...state.tasks];
      
      switch (sortBy) {
        case 'date-desc':
          sortedTasks.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
          break;
        case 'date-asc':
          sortedTasks.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));
          break;
        case 'priority':
          const priorityOrder = { high: 3, medium: 2, low: 1 };
          sortedTasks.sort((a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]);
          break;
        default:
          // Ù„Ø§ ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„ØªØ±ØªÙŠØ¨
      }
      
      state.tasks = sortedTasks;
      saveTasks();
      renderTasks();
    }
  </script>
</body>
</html>
